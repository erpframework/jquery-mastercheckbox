(function($){$.fn.masterCheckbox=function(options){return this.each(function(){var settings=$.extend({master_sub_selector:".master",group_key_name:"masterCheckboxGroupCheckboxes",master_key_name:"masterCheckboxMasterCheckbox"},options);var master_checkbox=$(settings.master_sub_selector,this).find("input:checkbox").addBack().filter("input:checkbox");var group_checkboxes=$(this).find("input:checkbox").not(master_checkbox);if(master_checkbox.length==1&&group_checkboxes.length>=1){master_checkbox.data(settings.group_key_name,
group_checkboxes);group_checkboxes.data(settings.group_key_name,group_checkboxes).data(settings.master_key_name,master_checkbox);master_checkbox.click(function(){var status=this.checked;$.data(this,settings.group_key_name).each(function(){$(this).prop("checked",status)})});group_checkboxes.click(function(){var master_status=true;$(this).data(settings.group_key_name).each(function(){if(this.checked==false){master_status=false;return false}});if(master_status!==master_checkbox[0].checked)$(this).data(settings.master_key_name).prop("checked",
master_status)})}return this})}})(jQuery);
